(this["webpackJsonpqr-barcode-scanner-react"]=this["webpackJsonpqr-barcode-scanner-react"]||[]).push([[0],{46:function(n,e,t){"use strict";t.r(e);var r,a,c,o,i,s,u,b,p,f=t(3),d=t(0),l=t.n(d),x=t(23),j=t.n(x),g=t(4),h=t(2),O=t.n(h),m=t(6),v=t(7),y=t(15),k=t(5),w=t(1),B=function(n){return new Promise((function(e){return setTimeout(e,n)}))},C=g.b.div(r||(r=Object(f.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: black;\n"]))),E=g.b.video(a||(a=Object(f.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n"]))),Z=g.b.div(c||(c=Object(f.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n  color: white;\n"]))),R=g.b.div(o||(o=Object(f.a)(["\n  margin-top: 12px;\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.7);\n"]))),S=g.b.div(i||(i=Object(f.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  margin: 12px;\n  width: 48px;\n  height: 48px;\n  border-radius: 24px;\n  background: rgba(255, 255, 255, 0.7);\n  font-size: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0px 4px 22px 0px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n"]))),A=function(n){var e=n.onResult,t=n.onClose,r=Object(d.useState)(!1),a=Object(v.a)(r,2),c=a[0],o=a[1],i=Object(d.useState)(""),s=Object(v.a)(i,2),u=s[0],b=s[1],p=Object(d.useRef)(),f=Object(d.useRef)(null);Object(d.useEffect)((function(){return function(){var n=Object(m.a)(O.a.mark((function n(){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment",width:{max:1080},height:{max:1080}}});case 3:p.current=n.sent,f.current&&(f.current.srcObject=p.current),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),b("".concat(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.current&&p.current.getTracks().forEach((function(n){n.stop()}))}}),[]);var l=function(){var n=Object(m.a)(O.a.mark((function n(){var t,r,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.ImageScanner.create();case 2:(t=n.sent).setConfig(k.ZBarSymbolType.ZBAR_NONE,k.ZBarConfigType.ZBAR_CFG_ENABLE,0),t.setConfig(k.ZBarSymbolType.ZBAR_QRCODE,k.ZBarConfigType.ZBAR_CFG_ENABLE,1),t.setConfig(k.ZBarSymbolType.ZBAR_CODE128,k.ZBarConfigType.ZBAR_CFG_ENABLE,1),r=function(){var n=Object(m.a)(O.a.mark((function n(){var e,r,a,c,o,i,s,u,b;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f.current){n.next=2;break}throw Error();case 2:if(e=f.current,r=e.videoWidth,a=e.videoHeight,(c=document.createElement("canvas")).width=r,c.height=a,o=c.getContext("2d")){n.next=9;break}throw Error();case 9:return o.drawImage(f.current,0,0,r,a),i=o.getImageData(0,0,r,a),n.next=13,Object(y.scanImageData)(i,t);case 13:if(!(s=n.sent).length){n.next=21;break}if(u=s[0].type,b=s[0].decode(),u!==k.ZBarSymbolType.ZBAR_QRCODE){n.next=19;break}return n.abrupt("return",{type:"qrcode",value:b});case 19:if(u!==k.ZBarSymbolType.ZBAR_CODE128){n.next=21;break}return n.abrupt("return",{type:"barcode",value:b});case 21:return n.abrupt("return",null);case 22:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=7;case 8:return n.next=11,r();case 11:if(!(a=n.sent)){n.next=15;break}return n.next=15,e(a);case 15:return n.next=17,B(100);case 17:n.next=8;break;case 19:n.next=23;break;case 21:n.prev=21,n.t0=n.catch(7);case 23:case"end":return n.stop()}}),n,null,[[7,21]])})));return function(){return n.apply(this,arguments)}}(),x="";return u?x="\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e1b\u0e34\u0e14\u0e01\u0e25\u0e49\u0e2d\u0e07\u0e44\u0e14\u0e49":c||(x="\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1b\u0e34\u0e14\u0e01\u0e25\u0e49\u0e2d\u0e07..."),Object(w.jsxs)(C,{children:[Object(w.jsx)(E,{ref:f,onLoadedData:function(){o(!0),l()},autoPlay:!0,controls:!1,playsInline:!0}),Object(w.jsxs)(Z,{children:[x,Object(w.jsx)(R,{children:u})]}),Object(w.jsx)(S,{onClick:function(){return t()},children:"X"})]})},_=g.b.div(s||(s=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding: 24px;\n"]))),T=g.b.pre(u||(u=Object(f.a)(["\n  flex-grow: 1;\n  background: rgba(0, 0, 0, 0.1);\n  padding: 12px;\n  margin: 0;\n  margin-bottom: 20px;\n  font-size: 14px;\n  overflow: scroll;\n"]))),D=g.b.div(b||(b=Object(f.a)(["\n  background: #4a4a73;\n  padding: 20px;\n  text-align: center;\n  font-size: 24px;\n  color: rgba(255, 255, 255, 0.9);\n  cursor: pointer;\n"]))),z=function(){var n=Object(d.useState)("-"),e=Object(v.a)(n,2),t=e[0],r=e[1],a=Object(d.useState)(!1),c=Object(v.a)(a,2),o=c[0],i=c[1],s=function(){var n=Object(m.a)(O.a.mark((function n(e){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i(!1),r(JSON.stringify(e,null,2));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(w.jsxs)(_,{children:[Object(w.jsx)(T,{children:t}),Object(w.jsx)(D,{onClick:function(){return i(!0)},children:"Scan"}),o&&Object(w.jsx)(A,{onResult:s,onClose:function(){return i(!1)}})]})},I=Object(g.a)(p||(p=Object(f.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    margin: 0;\n    font-family: sans-serif;\n    background: #fafafc;\n  }\n"])));j.a.render(Object(w.jsxs)(l.a.StrictMode,{children:[Object(w.jsx)(z,{}),Object(w.jsx)(I,{})]}),document.getElementById("root"))}},[[46,1,2]]]);